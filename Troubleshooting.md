# Troubleshooting

This is organized as a list of possible messages or signs there is a problem,
followed by any ways that help resolve those problems.

This guide is brand new, and will be added to as new solutions are found for problems.

### When importing an Android project, an error mentions SeekableByteChannel.

Specifically, the error involves `void org.apache.commons.compress.archivers.zip.ZipFile.<init>(java.nio.channels.SeekableByteChannel)'`.
The solution for this is to install the Android Build Tools, version 33.0.2 . I don't know if newer versions work as
well, but you can have 33.0.2 installed in addition to other versions.

To install new build tools, go to Tools -> Android -> SDK Manager, SDK Tools tab, check "Show Package Details" at the
bottom, select Build Tools version 33.0.2, and click Apply or OK. Then follow the installation steps.

### When importing an iOS project, an error mentions SeekableByteChannel.

Like the above error, this involves `void org.apache.commons.compress.archivers.zip.ZipFile.<init>(java.nio.channels.SeekableByteChannel)'`.
This has to do with the placement of the `robovm` plugin, which as of RoboVM 2.3.19 needs to be in `ios/build.gradle`,
not the root `build.gradle`. This is automatically fixed in projects generated by gdx-liftoff 1.12.0.1 and later, but
if you're for any reason using an older version, you can replace the top of `ios/build.gradle` with:
```gradle
buildscript {
  repositories {
    mavenCentral()
  }
  dependencies {
    classpath "com.mobidevelop.robovm:robovm-gradle-plugin:$robovmVersion"
  }
}
apply plugin: 'robovm'

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'
```
(Starting with the line that sets encoding, everything else is the same.) You will also need to remove any mention of
`robovm` plugin from the top of the root `build.gradle` file; this means a line that starts with `classpath` and a line
`apply plugin: 'robovm'`.

### A project that contains an Android module fails to run, saying `Android Gradle plugin requires Java 17 to run.`

Well, install Java 17 or higher and try again. You may need to set your JDK in your IDE. In IntelliJ IDEA, it's under
`File -> Project Structure`; in that window, you can even download a JDK automatically in the SDKs tab by clicking `+`
and then `Download JDK`. Android Studio doesn't provide as many ways to configure the JDK because it should include one
that works with the latest Android tools already.

### A Kotlin project that contains an Android module gives the message `jvm target compatibility should be set to the same Java version.`

This should be fixed in 1.12.0.1 by using toolchains; if that doesn't work for you, here are other options.

The simplest solution here is to set your JDK to a Java 17 one and to change `sourceCompatibility` and 
`targetCompatibility` to 17 each. A better solution is to use toolchains. In your root build.gradle, you can try adding

```gradle
kotlin {
  jvmToolchain(17)
}
```

(Probably adding it at the bottom of the file makes the most sense.) You still need to change `sourceCompatibility` and
`targetCompatibility` to the same version as your toolchain; these affect Java, while the toolchain should help Kotlin.
